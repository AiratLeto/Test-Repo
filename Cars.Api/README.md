# Название проекта

Описание проекта

## Интегрированные технологии

- [ASP.NET Core](https://docs.microsoft.com/ru-ru/aspnet/core/?view=aspnetcore-6.0)
- .NET 6
- [EF Core](https://docs.microsoft.com/ru-ru/ef/core/) + Migrations - ORM
- [Serilog](https://github.com/serilog/serilog-aspnetcore) - structural logging
- [Mediatr](https://github.com/jbogard/MediatR) - SQRS mediator library
- [xUnit](https://xunit.net/) unit & functional testing


## Структура проекта

Решение разбит на две группы проектов: src (исполняемый код) и test (модульные и интеграционные тесты). Решение побито на проекты в соответствии с [onion architecture pattern](https://www.codeguru.com/csharp/csharp/cs_misc/designtechniques/understanding-onion-architecture.html). Большинство проектов имеют "точку входа" - класс Entry. В нем конфигурируются реализованные зависимости проекта.

### Cars.Api.Contracts

Проект с бизнес-контрактами приложения. Не зависит от других проектов. Представляет собой набор контрактов приложения (классов, определяющих запросы и ответы, обрабатываемые приложением и составляющие его внешний интерфейс API).

### Cars.Api.Core

Проект с бизнес-логикой приложения. Не зависит от других проектов, кроме контрактов. Для использования баз данных и других внешних сервисов задает абстракции в каталоге /Abstractions. Доменная модель приложения - сущности и объекты-значения содержатся в /Entities. Обработчики запросов Mediatr в /Requests, разбиты по каталогам на каждую сущность для удобства навигации. Сервисы приложения в каталоге /Services.

### Cars.Api.Migrator

Проект-мигратор БД. Просто запускаемый проект для миграции БД.

### Cars.Api.Data.MsSql

Проект с реализацией доступа к данным в терминах БД MsSql. Использует EF Core для обращения к БД. Для генерации миграций есть скрипты в /Tools.

### Cars.Api.Web

Проект-веб хост приложения. Конфигурация разных аспектов работы web-приложения реализована в отдельных каталогах. Переменные приложения заведены в appsettigs.json, переопределяются в UserSecrets для отладки. 

### Cars.Api.Worker

Проект - хост задач по расписанию. Использует Hangfire для выполнения задач. Имеет встроенный дашборд (по пути /worker), в котором можно посмотреть на выполненные и выполняющиеся задачи, а также отладить их

### Cars.Api.IntegrationTest

Проект с интеграционными тестами. Подключение к БД и другим сервисам реализовано через развёртывание временных экземпляров docker-compose.yml.

### Cars.Api.UnitTest

Проект с модкльными тестами. Для тестов используется xUnit.
